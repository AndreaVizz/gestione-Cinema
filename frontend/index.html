<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <title>Cinema — Gestione Proiezioni e Biglietti</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="container">
    <h1>Cinema</h1>
    <p class="muted">Gestione proiezioni e biglietti (MinimalAPI)</p>
  </header>

  <main class="container">
    <!-- Form Proiezione -->
    <section class="card">
      <h2 id="form-title">Inserisci/Modifica Proiezione</h2>
      <form id="form-proiezione" class="grid">
        <input type="hidden" id="proiezione-id" />
        <label>
          Titolo *
          <input id="titolo" required />
        </label>
        <label>
          Durata (min)
          <input id="durataMin" type="number" min="1" />
        </label>
        <label>
          Genere *
          <input id="genere" />
        </label>
        <label>
          Nazionalità *
          <input id="nazionalita" />
        </label>
        <label>
          Lingua *
          <input id="lingua" />
        </label>
        <label class="full">
          Descrizione *
          <textarea id="descrizione" rows="2"></textarea>
        </label>
        <label>
          Sala *
          <input id="sala" />
        </label>
        <label>
          Orario inizio *
          <input id="orarioInizio" type="datetime-local" />
        </label>
        <label>
          Posti totali
          <input id="postiTotali" type="number" min="1" value="100" />
        </label>
        <label>
          Prezzo (€)
          <input id="prezzo" type="number" step="0.01" min="0" value="8.50" />
        </label>

        <div class="actions full">
          <button class="btn primary" type="submit">Salva</button>
          <button class="btn" type="button" id="btn-reset-form">Annulla</button>
        </div>
      </form>
    </section>

    <!-- Proiezioni -->
    <section class="card">
      <div class="card-head">
        <h2>Proiezioni</h2>
        <div class="filters">
          <input id="f-genere" placeholder="Filtra genere" />
          <input id="f-lingua" placeholder="Filtra lingua" />
          <button class="btn" id="btn-filtra">Filtra</button>
          <button class="btn" id="btn-reset-filtri">Reset</button>
        </div>
      </div>

      <div class="table-wrap">
        <table id="tab-proiezioni">
          <thead>
            <tr>
              <th>Titolo</th><th>Genere</th><th>Lingua</th><th>Sala</th>
              <th>Inizio</th><th>Durata</th><th>Prezzo</th><th>Disp.</th><th>Azioni</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Biglietti -->
    <section class="card">
      <div class="card-head">
        <h2>Biglietti</h2>
        <button class="btn" id="btn-aggiorna-biglietti">Aggiorna</button>
      </div>
      <div class="table-wrap">
        <table id="tab-biglietti">
          <thead>
            <tr>
              <th>Codice</th><th>Proiezione</th><th>Sala</th><th>Inizio</th>
              <th>Posto</th><th>Costo</th><th>Acquisto</th><th>Azioni</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Dialog Acquisto -->
  <dialog id="dlg-acquisto">
    <form method="dialog" id="form-acquisto" class="grid">
      <h3>Acquista biglietto</h3>
      <input type="hidden" id="a-proiezioneId" />
      <label>
        Fila *
        <input id="a-fila" maxlength="3" required />
      </label>
      <label>
        Numero *
        <input id="a-numero" type="number" min="1" required />
      </label>
      <div class="actions full">
        <button class="btn primary" value="ok">Conferma</button>
        <button class="btn" value="cancel">Annulla</button>
      </div>
    </form>
  </dialog>

  <div id="toast"></div>
  <script src="app.js" defer></script>
</body>
</html>
